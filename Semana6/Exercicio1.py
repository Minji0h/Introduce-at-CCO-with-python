#########################################################################################
#########################################################################################
#########################                                      ##########################
#########################           Classe principal           ##########################
#########################                                      ##########################
#########################################################################################
#########################################################################################
def main():
    print("Bem Vindo ao jogo NIM! Escolha:")
    print("1- Para jogar uma partida isolada")
    print("2- Para jogar um campeonato")
    tipo = int(input(""))
    if tipo == 1:
        print("Voce escolheu uma partida isolada!")
        umaJogada()
    else: 
        print("Voce escolheu um campeonato!")
        campeonato()
#########################################################################################
#########################################################################################
#########################                                      ##########################
#########################            Classe Um Jogo            ##########################
#########################                                      ##########################
#########################################################################################
#########################################################################################
def umaJogada():
    jog = 0 
    cp = 0
    vencedor = ''
    vencedor = partida()
    if(vencedor == 'cp'):
        cp = cp + 1
    else: 
        jog = jog + 1
    placar(jog, cp)
#########################################################################################
#########################################################################################
#########################                                      ##########################
#########################          Classe campeonato           ##########################
#########################                                      ##########################
#########################################################################################
#########################################################################################
def campeonato():
    i = 1
    cp = 0 
    jog = 0
    while i <= 3:
        print("**** Rodada " + str(i) + " ****")
        vencedor = ''
        vencedor = partida()
        print(vencedor)
        print(vencedor == cp)
        if vencedor == 'cp':
            cp = cp + 1
        else: 
            jog = jog + 1
        i = i + 1
    placar(jog, cp)
#########################################################################################
#########################################################################################
############################                                 ############################
############################  Classe Usuario Escolhe Jogada  ############################
############################                                 ############################
#########################################################################################
#########################################################################################
def usuario_escolhe_jogada(n,m):
    print("Sua vez!")
    jogada = int(input("Digite o numero de peças que deseja retirar: "))
    inv = True
    while(inv == True):
        if jogada>n or jogada<=0 or jogada>m:
            print("Jogada invalida! Jogada ultrapassa o numero de peças que podem ser retiradas por vez.")
            jogada = int(input("Digite Novamente: "))
        else:
            inv = False
    print("Voce retirou "+ str(jogada) +" peças")
    return jogada
#########################################################################################
#########################################################################################
#########################                                      ##########################
#########################   Classe Computador Escolhe Jogada   ##########################
#########################                                      ##########################
#########################################################################################
#########################################################################################
def computador_escolhe_jogada(n,m):
    print("Vez do computador!")
    jogada = 0
    if n > m:
        jogada = n%(m+1)
        if jogada == 0:
            jogada = m
    else:
        jogada = n
    print("O computador retirou " + str(jogada) + " peças")
    return jogada
#########################################################################################
#########################################################################################
#########################                                      ##########################
#########################            Classe partida            ##########################
#########################                                      ##########################
#########################################################################################
#########################################################################################
def partida():
    n = int(input("Digite o valor de peças iniciais:"))
    m = int(input("Digite o numero maximo de peças que é possivel retirar em cada jogada: "))
    if n%(m+1) == 0:
        print("Você começa")
        vez = 'jog'
    else:
        vez = 'cp'
    while(n > 0):
        if vez == 'cp' :
            jogada = computador_escolhe_jogada(n,m)
            vez = 'jog'
        else:
            jogada = usuario_escolhe_jogada(n,m)
            vez = 'cp'
        n = n - jogada
        print("Sobraram "+ str(n) +" peças no jogo")
    if(vez == 'cp'):
        print("Você ganhou!")
        return 'jog'
    else:
        print("O computador ganhou!")
        return 'cp'
#########################################################################################
#########################################################################################
#################################                       #################################
#################################     Classe Placar     #################################
#################################                       #################################
#########################################################################################
#########################################################################################
def placar(jogador, maquina):
    print("Placar: Você "+ str(jogador) +" X "+ str(maquina) +" Computador")
    
    
main()

